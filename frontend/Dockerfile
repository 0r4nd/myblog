
FROM node:20-alpine

# Set env variable
ARG REACT_APP_API_PROTOCOL
ARG REACT_APP_API_API_DOMAIN
ENV REACT_APP_API_PROTOCOL=$REACT_APP_API_PROTOCOL
ENV REACT_APP_API_DOMAIN=$REACT_APP_API_DOMAIN

WORKDIR /app
COPY package.json /app
RUN yarn install
COPY . /app

EXPOSE 3000

CMD ["yarn", "run", "start"]
